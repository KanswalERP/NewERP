@model NtierMvc.Model.QuotationEntity

@{
    ViewBag.Title = "QuotationDetails";
}

<div ng-controller="ModalController" class="row">
    <form>
        <div class="col-md-12">
            @Html.HiddenFor(m => m.Id)
            <div class="row">
                <div class="col-md-4" hidden>
                    <div class="form-group">
                        <label class="control-label">
                            User Initial
                        </label>
                        @Html.TextBoxFor(m => m.UserInitial, new
                   {
                       @class = "form-control requiredValidation",
                       @id = "UserInitial",
                       @readonly = "readonly"
                   })
                        @Html.HiddenFor(m => m.UnitNo)
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            VendorId
                        </label>
                        @Html.DropDownListFor(m => m.VendorId, new SelectList(@ViewBag.ListVendorId, "DataStringValueField", "DataTextField", Model.VendorId),
                           new
                           {
                               @class = "form-control requiredValidation",
                               @id = "VendorId",
                               @data_inneraction = "validationCall",
                               @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                               ng_model = "VendorId",
                               ng_change = "GetVendorDetails(VendorId)"

                           })
                        <span class="HideValidMsg">Please Select VendorId</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Vendor Name
                        </label>
                        @Html.TextBoxFor(m => m.VendorName, new
                   {
                       @class = "form-control requiredValidation",
                       @id = "VendorName",
                       @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                       @readonly = "readonly",
                       ng_model = "VendorName",
                   })
                        <span class="HideValidMsg">Please Select VendorId</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Country
                        </label>
                        @Html.TextBoxFor(m => m.Country, new
               {
                   @class = "form-control requiredValidation",
                   @id = "Country",
                   @placeholder = "Select Vendor ID",
                   ng_model = "Country",
                   @readonly = "readonly",
                   @style = "width = '50%'"
               })
                        @Html.TextBoxFor(m => m.CountryId, new { ng_model = "CountryId", @hidden = "hidden" })
                        <span class="HideValidMsg">Please Select VendorId</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Geo Area <span class="required">*</span>
                        </label>
                        @Html.TextBoxFor(m => m.GeoArea, new
                   {
                       @class = "form-control requiredValidation",
                       @id = "GeoArea",
                       @placeholder = "Select Vendor ID",
                       @readonly = "readonly",
                       ng_model = "GeoArea",
                       @ng_hide = "GeoArea == null"
                   })
                        @Html.TextBoxFor(m => m.GeoCode, new { ng_model = "GeoCode", @hidden = "hidden" })
                        <span class="HideValidMsg">Please Select Vendor ID</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            File Number <span class="required">*</span>
                        </label>

                        @Html.TextBoxFor(m => m.FileNo, new
                   {
                       @class = "form-control requiredValidation",
                       @id = "FileNo",
                       @placeholder = "File Number",
                       ng_model = "FileNo"
                   })
                        <span class="HideValidMsg">Please Enter File No</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Enquiry Code <span class="required">*</span>
                        </label>
                        <select id="EnqNo" name="EnqNo" ng-model="EnqNo" class="form-control ng-pristine ng-untouched ng-valid ng-empty clearField" onfocusout="return ValidateRequiredFieldsOnFocusOut(this)">
                            <option data-ng-repeat="dT in ListEnquiryNo" value="{{dT.DataStringValueField}}">{{dT.DataTextField}}</option>
                        </select>
                        @Html.TextBoxFor(m => m.EnqNo, new
                   {
                       @class = "form-control requiredValidation",
                       //@hidden = "hidden",
                       @id = "EnqNoModel",
                       @placeholder = "Enq No Model",
                       ng_model = "EnqNoModel"
                   })
                    </div>
                </div>
                @*<div class="col-md-4">
            <div class="form-group">
                <label class="control-label">
                    Enquiry Reference
                </label>
                @Html.TextBoxFor(m => m.EnqRef, new
           {
               @class = "form-control requiredValidation",
               @id = "EnqRef",
               @placeholder = "Enquiry Reference",
               @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
               ng_model = "EnqRef"
           })
                <span class="HideValidMsg">Please Select Enquiry Reference</span>
            </div>
        </div>*@
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Enquiry Date
                        </label>
                        @Html.TextBoxFor(m => m.EnqDt, new
                   {
                       @class = "form-control requiredValidation ApprovalDate",
                       autocomplete = "off",
                       @id = "EnqDt",
                       @placeholder = "dd/MM/yyyy",
                       @style = "disabled :disabled",
                       @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                       ng_model = "EnqDt"
                   })
                        <span class="HideValidMsg">Please Select Enquiry Date</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Enquiry For
                        </label>
                        @Html.TextBoxFor(m => m.EnqFor, new
                   {
                       @class = "form-control requiredValidation",
                       @id = "EnqFor",
                       @placeholder = "Enquiry For",
                       @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                       ng_model = "EnqFor"
                   })
                        <span class="HideValidMsg">Please Enter Enquiry For</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Currency
                        </label>
                        @Html.DropDownListFor(m => m.Currency, new SelectList(@ViewBag.ListCurrency, "DataStringValueField", "DataTextField", Model.ProdGrp),
                           new
                           {
                               @class = "form-control requiredValidation",
                               @id = "Currency",
                               @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                               ng_model = "ProdGrp"
                           })
                        <span class="HideValidMsg">Please Select Product Group</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Product Group
                        </label>
                        @Html.DropDownListFor(m => m.ProdGrp, new SelectList(@ViewBag.ListProdGrpId, "DataStringValueField", "DataTextField", Model.ProdGrp),
                           new
                           {
                               @class = "form-control requiredValidation",
                               @id = "ProdGrp",
                               @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                               ng_model = "ProdGrp"
                           })
                        <span class="HideValidMsg">Please Select Product Group</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Quote Date <span class="required">*</span>
                        </label>
                        @Html.TextBoxFor(m => m.QuoteDate, new
                   {
                       @class = "form-control requiredValidation ApprovalQuoteDate",
                       autocomplete = "off",
                       @id = "QuoteDate",
                       @placeholder = "dd/MM/yyyy",
                       @style = "disabled :disabled",
                       @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                       ng_model = "QuoteDate"
                   })
                        <span class="HideValidMsg">
                            Please Select Quote Date
                        </span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Quote Validity
                        </label>
                        @Html.TextBoxFor(m => m.QuoteValidity, new
                   {
                       @class = "form-control requiredValidation ApprovalDate",
                       autocomplete = "off",
                       @id = "QuoteValidity",
                       @placeholder = "dd/MM/yyyy",
                       @style = "disabled :disabled",
                       @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                       ng_model = "QuoteValidity"
                   })
                        <span class="HideValidMsg">Please Select Quotation Validity</span>
                    </div>
                </div>

                @*<div class="col-md-4" hidden>
            <div class="form-group">
                <label class="control-label">
                    BG Request
                </label>
                <div class="row">
                    <div class="col-md-12">
                        @Html.TextBoxFor(m => m.BgReq, new
                   {
                       @class = "form-control requiredValidation",
                       @id = "BgReq",
                       @placeholder = "BG Req",
                       @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                       ng_model = "BgReq"
                   })
                    </div>
                </div>
                <span class="HideValidMsg">Please Select Letter Date</span>
            </div>
        </div>*@
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Inspection <span class="required">*</span>
                        </label>
                        @Html.TextBoxFor(m => m.Inspection, new
                   {
                       @class = "form-control requiredValidation",
                       @id = "Inspection",
                       @placeholder = "Inspection",
                       @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                       ng_model = "Inspection"
                   })
                        <span class="HideValidMsg">Please Select Inspection</span>
                        @*@Html.ValidationMessageFor(m => m.Vicinity.NameofInstitute, "", new { @class = "text-danger" })*@
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Status
                        </label>
                        @Html.TextBoxFor(m => m.Status, new
                   {
                       @class = "form-control requiredValidation",
                       @id = "Status",
                       @placeholder = "Status",
                       @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                       ng_model = "Status"
                   })
                        <span class="HideValidMsg">Please Select Status</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Quote Type <span class="required">*</span>
                        </label>
                        @Html.DropDownListFor(m => m.QuoteType, new SelectList(@ViewBag.ListQuoteType, "DataStringValueField", "DataTextField", Model.QuoteType),
                        new
                        {
                            @class = "form-control requiredValidation",
                            @id = "QuoteType",
                            @name = "QuoteType",
                            @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                            ng_model = "QuoteType",
                            ng_change = "GetDeliveryItems(QuoteType)"
                        })
                        @*@Html.TextBoxFor(m => m.QuoteType, new
                {
                    @class = "form-control requiredValidation",
                    @id = "QuoteType",
                    @placeholder = "Quote Type",
                    ng_model = "QuoteType"
                })*@
                        <span class="HideValidMsg">Please Enter QuoteType</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Quote Number
                        </label>
                        @Html.TextBoxFor(m => m.QuoteTypeNo, new
                   {
                       @class = "form-control requiredValidation",
                       @id = "QuoteTypeNo",
                       @placeholder = "QuoteTypeNo",
                       @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                       @readonly = "readonly",
                       ng_model = "QuoteTypeNo"
                   })
                        @Html.TextBoxFor(m => m.QuoteNo, new
                   {
                       @id = "QuoteNo",
                       @name = "QuoteNo",
                       ng_model = "QuoteNo",
                       @hidden = "hidden"
                   })
                        <span class="HideValidMsg">Please Select Quote No</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group text-left">
                        <label class="control-label">
                            Delivery Terms
                        </label>
                        <select id="DeliveryTerms" name="DeliveryTerms" ng-model="DeliveryTerms" class="form-control requiredValidation ng-pristine ng-untouched ng-valid ng-empty clearField" onfocusout="return ValidateRequiredFieldsOnFocusOut(this)">
                            <option data-ng-repeat="dT in ListDeliveryTerms" value="{{dT.DataStringValueField}}">{{dT.DataTextField}}</option>
                        </select>
                        @Html.TextBoxFor(m => m.DeliveryTerms, new
                   {
                       @class = "form-control requiredValidation",
                       @id = "DeliveryTermsModel",
                       @placeholder = "DeliveryTermsModel",
                       @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                       ng_model = "DeliveryTermsModel"
                   })
                        <span class="HideValidMsg">Please Select Delivery Terms</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Mode Of Despatch
                        </label>
                        @Html.TextBoxFor(m => m.ModeOfDespatch, new
                   {
                       @class = "form-control requiredValidation",
                       @id = "ModeOfDespatch",
                       @placeholder = "Enter Mode Of Despatch",
                       @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                       ng_model = "ModeOfDespatch"
                   })
                        <span class="HideValidMsg">Please Enter ModeOfDespatch</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Port Of Discharge
                        </label>
                        @Html.TextBoxFor(m => m.PortOfDischarge, new
                   {
                       @class = "form-control requiredValidation",
                       @id = "PortOfDischarge",
                       @placeholder = "Enter Port Of Discharge",
                       @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                       ng_model = "PortOfDischarge"
                   })
                        <span class="HideValidMsg">Please Enter PortOfDischarge</span>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="control-label">
                            Lead Time
                        </label>
                        @Html.TextBoxFor(m => m.LeadTime, new
                   {
                       @class = "form-control requiredValidation",
                       @id = "LeadTime",
                       @placeholder = "Enter Lead Time",
                       @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                       ng_model = "LeadTime"
                   })
                        <span class="HideValidMsg">Please Enter LeadTime</span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group">
                        <label class="control-label">
                            Remarks
                        </label>
                        @Html.TextAreaFor(m => m.Remarks, new
                   {
                       @class = "form-control requiredValidation",
                       @id = "Remarks",
                       @width = "100%",
                       @placeholder = "Remarks",
                       @onfocusout = "return ValidateRequiredFieldsOnFocusOut(this)",
                       ng_model = "Remarks"
                   })
                        <span class="HideValidMsg">Please Select Remarks</span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 pt-4 text-center">
                    <button style="font-size:18px" type="button" class="btn btn-success btn-sm" id="save_results" ng-click="SaveQuotation()">Save</button>
                    <button style="font-size:18px" type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </form>
</div>
<script>
    $(document).ready(function () {
        window.VendorDetail = '@Url.Action("GetQuoteVendorDetail", "Technical")';
        window.SaveQuotation = '@Url.Action("SaveQuotationDetails", "Technical")';
    });

    $('.ApprovalDate').datepicker({

        format: 'dd/mm/yyyy',
        autoclose: true,
        changeMonth: true,
        changeYear: true,
        endDate: '',
    });
    $('.ApprovalQuoteDate').datepicker({

        format: 'dd/mm/yyyy',
        autoclose: true,
        changeMonth: true,
        changeYear: true,
        endDate: 'today',
    });
</script>
<script src="~/Scripts/CustomJS/common.js"></script>